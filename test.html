<html>
<head>
	<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
<!-- Load the d3 library. -->
<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
<style>
/* put a border around the svg element so we can see the coordinate system better. */
body { font-family: "Open Sans"; } div { margin: 30px; }
svg { border: solid black 1px; }
/* The default styles for axis elements stink. What should they be? */
.axis path {fill:none; stroke: #377;}
.axis line {stroke: #777;}
.axis text {font-size: 10px;}

</style>
</head>
<body>

<h3>Project 1</h3>

<!-- The SVG element will go in here -->
<div id="canvas"></div>

<script>
var a = 1;
var states = ["AA","AE","AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IA","IN","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"];

<<<<<<< Updated upstream
d3.json("Data2.json", function (error, data) {
	var PaymentData = data;
	
=======
d3.json("Data.json", function (error, data) {
	PaymentData = data;
>>>>>>> Stashed changes

	var maxPhysicians = d3.max(PaymentData, function(d){
		return d.Physician_Profile_ID;
	});
	console.log("This works too");
	var maxPayment = d3.max(PaymentData, function(d){
		return d.Total_Amount_of_Payment_USDollars;
	});

	var svg = d3.select("#canvas").append("svg").attr("height",1000).attr("width",1000);

	var xScale = d3.scale.linear().domain([0,maxPhysicians]).range([30,970]);
	var yScale = d3.scale.linear().domain([1,50]).range([970,30]);
	var radiusScale = d3.scale.sqrt().domain([0,maxPayment]).range([0,50]);
	var amountScale = 
	d3.scale.linear().domain([0, maxPayment/2, maxPayment]).range(["#d8b365", "#f5f5f5","#5ab4ac"]);

	var xAxis = d3.svg.axis().scale(xScale).orient("bottom");
	var yAxis = d3.svg.axis().scale(yScale).orient("left");	
	svg.append("g").attr("class","axis").attr("transform", "translate(0,970)").call(xAxis);
	svg.append("g").attr("class","axis").attr("transform", "translate(30,0)").call(yAxis);

	var circles = svg.selectAll("circle").data(PaymentData).enter().append("circle");
	circles.attr("cx", function(d) { return xScale(d.Physician_Profile_ID) })
		.attr("cy", function(d){
<<<<<<< Updated upstream
			switch(d.Recipient_State){
				case "AA": return yScale(50);
			 	case "AE": return yScale(49);
			 	case "AL": return yScale(48);
			 	case "AK": return yScale(47);
			 	case "AZ": return yScale(46);
			 }
=======
			for (var i = 0; i<states.lenght; i++){
				if(d.Recipient_State == states[i]) {return 50-i;}
			}
>>>>>>> Stashed changes
		})
		.attr("r", function(d) { return radiusScale(d.Total_Amount_of_Payment_USDollars)})
		.style("fill", function(d){
				return amountScale(d.Total_Amount_of_Payment_USDollars);
		});

});

</script>

</body>
</html>